<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Vim: Use Drop Not Edit, SBuffer Not Buffer</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link rel="icon" href="/images/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />

    <link rel="stylesheet" href="/styles/qiW7QwWGMf.css" />
    <link rel="me" href="mailto:asanka@gmail.com" />
    <link rel="me" href="https://github.com/asankah" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="ai-generated" content="none" />
  </head>

  <body>
    <header class="container">
      <nav class="top" itemscope="" itemtype="https://schema.org/Blog">
        <h1 itemprop="name">
          <a href="/" itemprop="url">Strong Opinions Weekly Held</a>
        </h1>
        <span></span>

        <h2><a href="/">Home</a></h2>

        <h2 itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="/about/me/" itemprop="sameAs">About</a>
        </h2>

        <h2><a href="/tags/">Tags</a></h2>
        <h2>
          <a href="/feed.xml"><img src="/images/rss.svg" /></a>
        </h2>
      </nav>
    </header>

    <article itemscope="" itemtype="https://schema.org/BlogPosting">
      <link itemprop="url" href="/posts/use-drop-not-edit/" />
      <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
      <header class="container">
        <div class="metadata">
          <time datetime="2020-07-07" itemprop="datePublished"
            >July 7, 2020</time
          >
          • <span class="author" itemprop="author">Asanka Herath</span>. •
          <time>4 min</time> read
        </div>
        <h1 itemprop="name">Vim: Use Drop Not Edit, SBuffer Not Buffer</h1>
        <nav>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag"> #<a href="/tags/tools/">Tools</a> </span>
            </li>
            <li>
              <span class="tag"> #<a href="/tags/vim/">Vim</a> </span>
            </li>
          </menu>
        </nav>
      </header>

      <main itemprop="articleBody" class="container">
        <p>I’m going to assume you are a Vim user.</p>
        <p>
          Say you have a several windows open in Vim and you want to edit
          another file. Using <code>:edit</code> works if you want to open the
          file in the current window unconditionally.
        </p>
        <p>
          <em>But that’s often not what you want.</em> If you have the same file
          open in another window, then the most efficient and least disruptive
          thing to do is to switch to that window.
        </p>
        <h2 id="drop">drop</h2>
        <p>
          That’s where <code>:drop</code> comes in. In case you aren’t familiar
          with the <code>drop</code> command, have a look at the help page in
          your favorite editor (<code>:help drop</code>) or
          <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#:drop"
            >here on the web</a
          >. But the gist of it is that for most people<a
            href="#fn1"
            class="footnote-ref"
            id="fnref1"
            role="doc-noteref"
            interestfor="ref-1-preview"
            style="anchor-name: --ref-1-preview-anchor"
            ><sup>1</sup></a
          >
          <code>:drop {file}</code> will:
        </p>
        <ul>
          <li>
            Switch to the window in which <code>{file}</code> is already open.
          </li>
          <li>
            Switch the buffer in the current window to
            <code>{file}</code> otherwise.
          </li>
        </ul>
        <p>
          The <code>:drop</code> command is intended to be used as the “open
          buffer” command for automated tooling like source browsers. For
          example, you can configure <code>coc-nvim</code>
          <a href="https://github.com/neoclide/coc.nvim">GitHub</a> to use
          <code>:drop</code> as the command used for opening a source file by
          setting <code>coc.preferences.jumpCommand</code> to <code>drop</code>.
          See <code>:help coc-configuration</code> for details on how to set
          this, but basically it’s as simple as opening up the configuration
          using <code>:CocConfig</code> and then adding a
          <code>"coc.preferences.jumpCommand": "drop",</code> mapping to the
          configuration JSON file.
        </p>
        <h2 id="switchbuf-or-swb">switchbuf or swb</h2>
        <p>
          Or perhaps configuring each plugin is too much work. Enter
          <code>switchbuf</code>. This is a global setting in Vim that controls
          how Vim switches between buffers.
        </p>
        <p>
          Setting <code>set switchbuf=useopen</code> has the same effect when
          invoking <code>buffer</code>. Note that using <code>sbuffer</code>,
          <code>sbnext</code>, or <code>sbrewind</code> automatically behaves as
          if this is the case. I.e. they will use an existing window if one
          already has the buffer open.
        </p>
        <p>
          Setting <code>set switchbuf=usetab</code> is similar to the effect of
          <code>useopen</code> except that it will look through windows in other
          tabs.
        </p>
        <p>
          See <code>:help switchbuf</code> or
          <a
            href="http://vimdoc.sourceforge.net/htmldoc/options.html#&#39;switchbuf&#39;"
            >here on the web</a
          >
          for full details.
        </p>
        <section
          id="footnotes"
          class="footnotes footnotes-end-of-document"
          role="doc-endnotes"
        >
          <hr />
          <ol>
            <li id="fn1">
              <p>
                Assuming you have <code>set hidden</code> that is. See
                <code>:help drop</code> for more details on what happens when
                the current buffer cannot be unloaded.<a
                  href="#fnref1"
                  class="footnote-back"
                  role="doc-backlink"
                  ><span class="material-symbols-outlined"
                    >arrow_upward</span
                  ></a
                >
              </p>
            </li>
          </ol>
        </section>

        <div
          popover="auto"
          class="footnote-preview-container"
          id="ref-1-preview"
          style="position-anchor: --ref-1-preview-anchor"
        >
          <div class="footnote-preview-arrow" aria-hidden="true"></div>
          <aside class="footnote-preview">
            <div>
              <p>
                Assuming you have <code>set hidden</code> that is. See
                <code>:help drop</code> for more details on what happens when
                the current buffer cannot be unloaded.
              </p>
            </div>
          </aside>
        </div>
      </main>

      <footer class="container">
        <div>
          <p>Last modified: <time datetime="2020-07-07">July 7, 2020</time></p>
        </div>
      </footer>
    </article>

    <div class="container"></div>

    <footer class="container">
      <h2>More posts from this blog ...</h2>
      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h2 class="title">
          <a itemprop="url" href="/posts/remarkable-first-impressions/">
            <span itemprop="name">Note-taking on a reMarkable 2</span>
          </a>
        </h2>
        <nav>
          <div class="metadata">
            <time datetime="2021-12-30" itemprop="datePublished"
              >December 30, 2021</time
            >.
          </div>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag">
                #<a href="/tags/remarkable-2/">Remarkable 2</a>
              </span>
            </li>
            <li>
              <span class="tag"> #<a href="/tags/reviews/">Reviews</a> </span>
            </li>
          </menu>
        </nav>
        <div class="summary-row">
          <div>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>
                  Sentiments after using the reMarkable 2 tablet for a month.
                </p>
              </div>
            </div>
          </div>
        </div>
        <p class="more">
          <a href="/posts/remarkable-first-impressions/">Read more …</a>
        </p>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h2 class="title">
          <a itemprop="url" href="/posts/the-point-of-a-strategy/">
            <span itemprop="name">The Point of a Strategy</span>
          </a>
        </h2>
        <nav>
          <div class="metadata">
            <time datetime="2023-07-24" itemprop="datePublished"
              >July 24, 2023</time
            >.
          </div>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag"> #<a href="/tags/career/">Career</a> </span>
            </li>
            <li>
              <span class="tag">
                #<a href="/tags/engineering/">Engineering</a>
              </span>
            </li>
          </menu>
        </nav>
        <div class="summary-row">
          <div>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>The only useful strategy is one that reduces risks.</p>
              </div>
            </div>
          </div>
        </div>
        <p class="more">
          <a href="/posts/the-point-of-a-strategy/">Read more …</a>
        </p>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h2 class="title">
          <a itemprop="url" href="/posts/moved-to-eleventy/">
            <span itemprop="name">I Moved This Blog To Eleventy</span>
          </a>
        </h2>
        <nav>
          <div class="metadata">
            <time datetime="2024-12-13" itemprop="datePublished"
              >December 13, 2024</time
            >.
          </div>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag"> #<a href="/tags/meta/">Meta</a> </span>
            </li>
          </menu>
        </nav>
        <div class="summary-row">
          <div>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>
                  At long last, this blog &quot;outgrew&quot;<sup
                    class="footnote-ref"
                    ><a href="#fn1" id="fnref1">[1]</a></sup
                  >
                  Hugo and I had to go looking for a new static site generator.
                </p>
                <hr class="footnotes-sep" />
                <section class="footnotes">
                  <ol class="footnotes-list">
                    <li id="fn1" class="footnote-item">
                      <p>
                        Of course, by outgrew I mean I got bored and wanted to
                        play with a new static site generator.
                        <a href="#fnref1" class="footnote-backref">↩︎</a>
                      </p>
                    </li>
                  </ol>
                </section>
              </div>
            </div>
          </div>
        </div>
        <p class="more"><a href="/posts/moved-to-eleventy/">Read more …</a></p>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h2 class="title">
          <a itemprop="url" href="/series/structure-of-experience/meaning/"
            ><span class="series-name">Structure Of Experience</span>:
            <span itemprop="name">Act I: Meaning</span>
          </a>
        </h2>
        <nav>
          <div class="metadata">
            <time datetime="2025-05-04" itemprop="datePublished"
              >May 4, 2025</time
            >.
          </div>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag"> #<a href="/tags/ai/">AI</a> </span>
            </li>
          </menu>
        </nav>
        <div class="summary-row">
          <div>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>
                  Language builds meaning by combining your inner experiences.
                </p>
              </div>
            </div>
          </div>
        </div>
        <p class="more">
          <a href="/series/structure-of-experience/meaning/">Read more …</a>
        </p>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h2 class="title">
          <a itemprop="url" href="/posts/symbol-name-types/">
            <span itemprop="name">Names for Name Conventions</span>
          </a>
        </h2>
        <nav>
          <div class="metadata">
            <time datetime="2020-08-24" itemprop="datePublished"
              >August 24, 2020</time
            >.
          </div>
          <span></span>
          <menu class="tags">
            <li>
              <span class="tag">
                #<a href="/tags/engineering/">Engineering</a>
              </span>
            </li>
          </menu>
        </nav>
        <div class="summary-row">
          <div></div>
        </div>
        <p class="more"><a href="/posts/symbol-name-types/">Read more …</a></p>
      </div>
    </footer>

    <script
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-GSREL2EZ4Y"
    ></script>
    <script>
      var dnt,
        doNotTrack = !1;
      if (
        (!1 &&
          ((dnt =
            navigator.doNotTrack ||
            window.doNotTrack ||
            navigator.msDoNotTrack),
          (doNotTrack = dnt == "1" || dnt == "yes")),
        !doNotTrack)
      ) {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        (gtag("js", new Date()), gtag("config", "G-GSREL2EZ4Y"));
      }
    </script>
  </body>
</html>
