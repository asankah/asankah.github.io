<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Vim: Use Drop Not Edit, SBuffer Not Buffer</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link rel="icon" href="/images/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&family=Inconsolata:wght@200..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/katex.min.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
    />
    <link rel="stylesheet" href="/styles/MO9aeaoQ4H.css" />
    <link rel="me" href="mailto:asanka@gmail.com" />
    <link rel="me" href="https://github.com/asankah" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="ai-generated" content="none" />
  </head>

  <body>
    <header class="container">
      <nav class="top" itemscope="" itemtype="https://schema.org/Blog">
        <h1 itemprop="name">
          <a href="/" itemprop="url">Strong Opinions Weekly Held</a>
        </h1>
        <span></span>

        <h2><a href="/">Home</a></h2>

        <h2 itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="/about/me/" itemprop="sameAs">About</a>
        </h2>

        <h2><a href="/tags/">Tags</a></h2>
        <h2>
          <a href="/feed.xml"><img src="/images/rss.svg" /></a>
        </h2>
      </nav>
    </header>

    <article itemscope="" itemtype="https://schema.org/BlogPosting">
      <link itemprop="url" href="/posts/use-drop-not-edit/" />
      <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
      <header class="container">
        <div class="">
          <h1 itemprop="name">Vim: Use Drop Not Edit, SBuffer Not Buffer</h1>
          <nav>
            <div class="metadata">
              Published on
              <time datetime="2020-07-07" itemprop="datePublished"
                >July 7, 2020</time
              >
              by <span class="author" itemprop="author">Asanka Herath</span>.

              <br />
              Estimated reading time is <time>4 minutes</time>.
            </div>
            <span></span>
            <menu class="tags">
              <li>
                <span class="tag"> #<a href="/tags/tools/">Tools</a> </span>
              </li>
              <li>
                <span class="tag"> #<a href="/tags/vim/">Vim</a> </span>
              </li>
            </menu>
          </nav>
        </div>
      </header>

      <main itemprop="articleBody" class="container">
        <p>I’m going to assume you are a Vim user.</p>
        <p>
          Say you have a several windows open in Vim and you want to edit
          another file. Using <code>:edit</code> works if you want to open the
          file in the current window unconditionally.
        </p>
        <p>
          <em>But that’s often not what you want.</em> If you have the same file
          open in another window, then the most efficient and least disruptive
          thing to do is to switch to that window.
        </p>
        <h2 id="drop">drop</h2>
        <p>
          That’s where <code>:drop</code> comes in. In case you aren’t familiar
          with the <code>drop</code> command, have a look at the help page in
          your favorite editor (<code>:help drop</code>) or
          <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#:drop"
            >here on the web</a
          >. But the gist of it is that for most people<a
            href="#fn1"
            class="footnote-ref"
            id="fnref1"
            role="doc-noteref"
            ><sup>1</sup></a
          >
          <code>:drop {file}</code> will:
        </p>
        <ul>
          <li>
            Switch to the window in which <code>{file}</code> is already open.
          </li>
          <li>
            Switch the buffer in the current window to
            <code>{file}</code> otherwise.
          </li>
        </ul>
        <p>
          The <code>:drop</code> command is intended to be used as the “open
          buffer” command for automated tooling like source browsers. For
          example, you can configure <code>coc-nvim</code>
          <a href="https://github.com/neoclide/coc.nvim">GitHub</a> to use
          <code>:drop</code> as the command used for opening a source file by
          setting <code>coc.preferences.jumpCommand</code> to <code>drop</code>.
          See <code>:help coc-configuration</code> for details on how to set
          this, but basically it’s as simple as opening up the configuration
          using <code>:CocConfig</code> and then adding a
          <code>"coc.preferences.jumpCommand": "drop",</code> mapping to the
          configuration JSON file.
        </p>
        <h2 id="switchbuf-or-swb">switchbuf or swb</h2>
        <p>
          Or perhaps configuring each plugin is too much work. Enter
          <code>switchbuf</code>. This is a global setting in Vim that controls
          how Vim switches between buffers.
        </p>
        <p>
          Setting <code>set switchbuf=useopen</code> has the same effect when
          invoking <code>buffer</code>. Note that using <code>sbuffer</code>,
          <code>sbnext</code>, or <code>sbrewind</code> automatically behaves as
          if this is the case. I.e. they will use an existing window if one
          already has the buffer open.
        </p>
        <p>
          Setting <code>set switchbuf=usetab</code> is similar to the effect of
          <code>useopen</code> except that it will look through windows in other
          tabs.
        </p>
        <p>
          See <code>:help switchbuf</code> or
          <a
            href="http://vimdoc.sourceforge.net/htmldoc/options.html#&#39;switchbuf&#39;"
            >here on the web</a
          >
          for full details.
        </p>
        <section
          id="footnotes"
          class="footnotes footnotes-end-of-document"
          role="doc-endnotes"
        >
          <hr />
          <ol>
            <li id="fn1">
              <p>
                Assuming you have <code>set hidden</code> that is. See
                <code>:help drop</code> for more details on what happens when
                the current buffer cannot be unloaded.<a
                  href="#fnref1"
                  class="footnote-back"
                  role="doc-backlink"
                  >↩︎</a
                >
              </p>
            </li>
          </ol>
        </section>
      </main>

      <footer class="container">
        <div>
          <p>Last modified: <time datetime="2020-07-07">July 7, 2020</time></p>
        </div>
      </footer>
    </article>

    <div class="container"></div>

    <footer class="container">
      <h2>More posts from this blog ...</h2>
      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h3 class="title">
          <a itemprop="url" href="/posts/inktober-wild/">
            <span itemprop="name">Inktober - Wild</span>
          </a>
        </h3>
        <div class="summary-row">
          <div>
            <nav>
              <small>
                Published on
                <time datetime="2022-01-13" itemprop="datePublished"
                  >January 13, 2022</time
                >.
              </small>
              <span></span>
              <menu class="tags">
                <li>
                  <span class="tag">
                    #<a href="/tags/inktober/">Inktober</a>
                  </span>
                </li>
              </menu>
            </nav>
            <p class="more"><a href="/posts/inktober-wild/">Read more …</a></p>
          </div>
        </div>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h3 class="title">
          <a
            itemprop="url"
            href="/posts/gender-gap-in-adolescent-mental-health/"
          >
            <span itemprop="name"
              >On Gender Gap in Adolescent Mental Health</span
            >
          </a>
        </h3>
        <div class="summary-row">
          <div>
            <nav>
              <small>
                Published on
                <time datetime="2022-03-01" itemprop="datePublished"
                  >March 1, 2022</time
                >.
              </small>
              <span></span>
              <menu class="tags">
                <li>
                  <span class="tag">
                    #<a href="/tags/inclusion-and-equity/"
                      >Inclusion and Equity</a
                    >
                  </span>
                </li>
              </menu>
            </nav>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>
                  A recent study found that more gender-equal countries have
                  larger gender gaps in mental health. I look at the data that
                  seems to have yielded this counter-intuitive results and find
                  it lacking.
                </p>
              </div>
            </div>
            <p class="more">
              <a href="/posts/gender-gap-in-adolescent-mental-health/"
                >Read more …</a
              >
            </p>
          </div>
        </div>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h3 class="title">
          <a itemprop="url" href="/posts/git-autopush/">
            <span itemprop="name"
              >Use Git hooks to automatically push after every commit</span
            >
          </a>
        </h3>
        <div class="summary-row">
          <div>
            <nav>
              <small>
                Published on
                <time datetime="2022-07-05" itemprop="datePublished"
                  >July 5, 2022</time
                >.
              </small>
              <span></span>
              <menu class="tags">
                <li>
                  <span class="tag"> #<a href="/tags/tools/">Tools</a> </span>
                </li>
              </menu>
            </nav>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>
                  During before and after various Git operations, Git invokes
                  special hooks that can be used execute custom scripts. This
                  article explains how to use them to automatically push to an
                  upstream repository every time you make a commit to a local
                  repo.
                </p>
              </div>
            </div>
            <p class="more"><a href="/posts/git-autopush/">Read more …</a></p>
          </div>
        </div>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h3 class="title">
          <a itemprop="url" href="/posts/the-loss-of-a-virtuous-culture/">
            <span itemprop="name">The Loss of a Virtuous Culture</span>
          </a>
        </h3>
        <div class="summary-row">
          <div>
            <nav>
              <small>
                Published on
                <time datetime="2022-10-28" itemprop="datePublished"
                  >October 28, 2022</time
                >.
              </small>
              <span></span>
              <menu class="tags">
                <li>
                  <span class="tag">
                    #<a href="/tags/culture/">Culture</a>
                  </span>
                </li>
                <li>
                  <span class="tag">
                    #<a href="/tags/engineering/">Engineering</a>
                  </span>
                </li>
              </menu>
            </nav>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>Luck isn't enough. You need a culture of virtue.</p>
              </div>
            </div>
            <p class="more">
              <a href="/posts/the-loss-of-a-virtuous-culture/">Read more …</a>
            </p>
          </div>
        </div>
      </div>

      <div
        class="post-summary"
        itemscope=""
        itemtype="https://schema.org/BlogPosting"
      >
        <link itemprop="isPartOf" itemtype="https://schema.org/Blog" href="/" />
        <h3 class="title">
          <a itemprop="url" href="/posts/a-good-api/">
            <span itemprop="name">A Good API: g9</span>
          </a>
        </h3>
        <div class="summary-row">
          <div>
            <nav>
              <small>
                Published on
                <time datetime="2023-08-12" itemprop="datePublished"
                  >August 12, 2023</time
                >.
              </small>
              <span></span>
              <menu class="tags">
                <li>
                  <span class="tag">
                    #<a href="/tags/engineering/">Engineering</a>
                  </span>
                </li>
              </menu>
            </nav>
            <div class="summary-row">
              <div itemprop="abstract">
                <p>Adding more knobs doesn't make your API more powerful.</p>
              </div>
            </div>
            <p class="more"><a href="/posts/a-good-api/">Read more …</a></p>
          </div>
        </div>
      </div>
    </footer>

    <script
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-GSREL2EZ4Y"
    ></script>
    <script>
      var dnt,
        doNotTrack = !1;
      if (
        (!1 &&
          ((dnt =
            navigator.doNotTrack ||
            window.doNotTrack ||
            navigator.msDoNotTrack),
          (doNotTrack = dnt == "1" || dnt == "yes")),
        !doNotTrack)
      ) {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        (gtag("js", new Date()), gtag("config", "G-GSREL2EZ4Y"));
      }
    </script>
  </body>
</html>
