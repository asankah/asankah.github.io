<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Deriving the Poisson Distribution &#183; Strong Opinions, Weekly Held</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.min.css><link rel=stylesheet href=/css/formatting.min.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link href rel=alternate type=application/rss+xml title="Strong Opinions, Weekly Held"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script><script src=/js/render-katex.js></script></head><body><nav class=nav><div class=nav-container><a href=/><h2 class=nav-title>Strong Opinions, Weekly Held</h2></a><ul><li><a href=/about/me><span>About Me</span></a></li><li><a href=/tags><span>Tags</span></a></li></ul></div></nav><main><div class=post><h1 class=post-title>Deriving the Poisson Distribution</h1><div class=post-info><span>Written by</span>
Asanka Herath
<span>on&nbsp;</span><time datetime="2020-12-11 11:13:39 -0500 EST">December 11, 2020</time>
|
<a href=/tags/math>#Math</a></div><div class="social share"><a href="https://twitter.com/intent/tweet?text=Deriving+the+Poisson+Distribution&url=https%3A%2F%2Fxn--izc.com%2Fblog%2Fpoisson-distribution%2F&via=asankah" aria-label="Share on Twitter" target=_blank rel=noopener><img src=/images/twitter.svg alt="Share on Twitter"></a>
<a href="mailto:?body=Via+https%3A%2F%2Ftwitter.com%2Fasankah%0A%0AWhere+does+the+Poisson+Distribution+come+from%3F%0AA+little+bit+of+research1+tells+us+that+the+distribution+was+originally+introduced+by+Abraham+de+Moivre+in+1710+in+an+article+called+%E2%80%9COn+the+Measurement+of+Chance%2C+or%2C+on+the+Probability+of+Events+in+Games+Depending+Upon+Fortuitous+Chance%E2%80%9D+2+%28not+the+original+title%29.%0AA+few+steps+that+will+get+us+there+is+laid+out+below.%0ALet%E2%80%99s+start+with+a+simple+%E2%80%9Crate%E2%80%9D+problem.%0A%0ARead+more+at+https%3A%2F%2Fxn--izc.com%2Fblog%2Fpoisson-distribution%2F%0A&subject=Deriving+the+Poisson+Distribution+-+Strong+Opinions%2C+Weekly+Held" aria-label="Share via Email" target=_blank rel=noopener><img src=/images/mail.svg alt="Share via Email"></a>
<a href=https://xn--izc.com/blog/poisson-distribution/ aria-label="Permanent link to post"><img src=/images/link-2.svg alt="Permanent link to post"></a></div><p>Where does the Poisson Distribution come from?</p><p>A little bit of research<a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a> tells us that the
distribution was originally introduced by <a href=https://en.wikipedia.org/wiki/Abraham_de_Moivre>Abraham de
Moivre</a> in 1710 in an article called <em>“On the Measurement of
Chance, or, on the Probability of Events in Games Depending Upon
Fortuitous Chance”</em> <a href=#fn2 class=footnote-ref id=fnref2 role=doc-noteref><sup>2</sup></a> (not the original title).</p><p>A few steps that will get us there is laid out below.</p><p>Let’s start with a simple “rate” problem.</p><blockquote><p>How likely is it that you’ll receive 12 visits next week given that
you had 10 visitors this week?</p></blockquote><p>This is clearly not a question to be answered based on a lot of
information. However when the assumption is that <em>on average</em> you
get 10 visitors a week, then the question sounds a bit more
reasonable.</p><p>While we say the <em>rate</em> is 10 visitors per week, that’s
obviously not going to be uniformly distributed. Maybe given the nature
of your site, people are more likely to visit over the week-end rather
than during the week. However for the purpose of this analysis we are
going to assume that the rate is uniform.</p><p>Simplifying things a bit more, we can ask the question in a different
way:</p><blockquote><p>How likely is that that the rate of visitors for your site will be
<span class="math inline">\frac{12}{7}</span> per day next week given
that the usual rate is <span class="math inline">\frac{10}{7}</span> per
day?</p></blockquote><p>Or in another way:</p><blockquote><p>How likely is that that the rate of visitors for your site will be
<span class="math inline">\frac{12}{7 * 24}</span> per hour next week
given that the usual rate is <span class="math inline">\frac{10}{7 *
24}</span> per hour?</p></blockquote><p>Why do this? Without much explanation this reformulation gets us to a
rate that’s less than one per unit of time being considered. This way we
can now look at each time unit and assume that we’ll either get 1
visitor or none any given hour.</p><p>So each hour, there’s a probability of <span class="math inline">\lambda</span> that there will be a user, and <span class="math inline">1 - \lambda</span> that there won’t. Here we are
using <span class="math inline">\lambda = \frac{10}{7 * 24}</span> for
convenience. The latter is also the “rate” of events or arrivals. The
term <em>arrivals</em> or <em>occurrences</em> is common in
literature.</p><p>The probability that there will be 12 visitors is the probability
that there will be 12 hour slots where there’s an arrival and the rest
will be slots without an arrival.</p><p>Treating this as a list of one-hour “slots”, the outcome would look
like:</p><table style=width:100%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:5%><col style=width:8%><col style=width:8%><tbody><tr class=odd><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>…</td><td>0</td></tr></tbody></table><p>The number in each box is the number of arrivals during that slot
which is either 1 or 0. So there are <span class="math inline">2^n</span> possible outcomes where <span class="math inline">n = 7 * 24</span>. Each 1 has a probability of <span class="math inline">\lambda</span> and 0 has a probability of <span class="math inline">1 - \lambda</span>.</p><p>So for there to be exactly <span class="math inline">k</span>
arrivals – where <span class="math inline">k = 12</span> which is the
target – there needs to be <span class="math inline">k</span> ones and
<span class="math inline">n - k</span> zeros.</p><p>So the probability of one of those events happening is <span class="math inline">\lambda^k (1 - \lambda)^{n-k}</span>.</p><p>But there are lots of ways of choosing <span class="math inline">k</span> boxes out of <span class="math inline">n</span>. In fact there is exactly <span class="math inline">\binom{n}{k}</span> ways.</p><p>So the probability of getting exactly <span class="math inline">k</span> arrivals is:</p><p><span class="math display">\Pr(k) = \binom{n}{k} \lambda^k
(1-\lambda)^{n - k}</span></p><p>With me so far?</p><p>Astute readers will note that we did some hand-waving up there.
Specifically we assumed that the possibilities for any 1-hour block is
either there being an arrival or there not being one. This isn’t always
the case since there could be more than 1 arrival in any given hour.</p><p>One way to address this is to consider increasingly smaller units of
time. For example, if we divide the one-hour block into <span class="math inline">m</span> equal sized pieces then it’ll be a bit more
likely – assuming <span class="math inline">m \gt 1</span> – that there
will be at most 1 arrival during that time period. In fact if <span class="math inline">m</span> is very large, then it is increasingly
likely that the choices are either 1 or 0.</p><p>So the number of boxes is now <span class="math inline">n*m</span>,
and the probability of an arrival during any single timeslot is now
<span class="math inline">\frac{λ}{m}</span>. Substituting these, our
new probability is:</p><p><span class="math display">\Pr(k) = \binom{nm}{k} \left(
\frac{\lambda}{m} \right)^k \left(1 - \frac{\lambda}{m}\right)^{nm -
k}</span></p><p>Alright. We are getting somewhere now. The next step is to increase
<span class="math inline">m</span> all the way to <span class="math inline">\infty</span>.</p><p><span class="math display">\begin{align*}
\lim_{m \to \infty} \Pr(k) & = \lim_{m \to \infty} \binom{n*m}{k} (
\frac{λ}{m} )^k (1 - \frac{λ}{m})^{nm - k} \\
& = \lim_{m → \infty} \frac{(nm)!}{k! (nm - k)!} ( \frac{λ}{m} )^k
(1 - \frac{λ}{m})^{nm - k}
\end{align*}</span></p><p>The right side looks a bit daunting, the we can simplify things quite
a bit by looking at each part separately.</p><p>For example:</p><p><span class="math display">\begin{align*}
\binom{nm}{k}\left( \frac{\lambda}{m} \right)^k & = \frac{(nm)!}{k!
(nm - k)!}\left( \frac{\lambda}{m} \right)^k \\
& = \frac{nm \cdot (nm - 1) \cdot (nm - 2) \cdot ... (nm - k +
1)}{k!}\left( \frac{\lambda}{m} \right)^k \\
& = \left( \frac{nm}{m} \right) \left( \frac{nm - 1}{m}\right) ...
\left( \frac{nm - k + 1}{m}\right) \frac{\lambda^k}{k!}
\end{align*}</span></p><p>Furthermore:</p><p><span class="math display">\left( \frac{nm}{m} \right) \left(
\frac{nm - 1}{m}\right) ... \left( \frac{nm - k + 1}{m}\right)
\frac{\lambda^k}{k!} = \frac{\lambda^k}{k!}\prod_{i=0}^{k-1} \left(n -
\frac{k - i}{m}\right)</span></p><p>As <span class="math inline">\lim_{m → \infty}</span> we see that
<span class="math inline">\frac{k-i}{m}</span> tends to <span class="math inline">0</span>. This makes our lives a bit easier.</p><p>Now we have:</p><p><span class="math display">\begin{align*}
\Pr(k) &= \lim_{m \to \infty}\frac{(n \lambda)^k}{k!} \left(1 -
\frac{\lambda}{m} \right)^{nm - k} \\
&= \lim_{m \to \infty}\frac{(n \lambda)^k}{k!} \left(1 -
\frac{\lambda}{m} \right)^{nm(1 - \frac{k}{nm})}\end{align*}</span></p><p>Remember that:</p><p><span class="math display">\lim_{n \to \infty} \left( 1 + \frac{x}{n}
\right)^n = e^x</span></p><p>So substituting <span class="math inline">n \to nm</span> and <span class="math inline">x \to - \lambda n</span> gets us:</p><p><span class="math display">\lim_{nm \to \infty} \left( 1 -
\frac{\lambda}{m} \right)^{nm} = e^{- \lambda n}</span></p><p>Now going back to <span class="math inline">\Pr(k)</span>:</p><p><span class="math display">\Pr(k) = \frac{(n \lambda)^k e^{- \lambda
n}}{k!}</span></p><p>Let’s do another substitution. Remember that <span class="math inline">\lambda</span> is the number of arrivals during
<span class="math inline">n</span> time periods. If we consider <span class="math inline">n</span> time periods (originally hours) to be a
single unit of time, then our rate of arrivals is <span class="math inline">\lambda n</span>. So without loss of generality
let’s substitute <span class="math inline">\lambda n \to
\lambda</span>.</p><p>This gives us:</p><p><span class="math display">\Pr(k) = \frac{\lambda^k e^{-
\lambda}}{k!}</span></p><p>… which is the PDF of the Poisson distribution.</p><p>n.b.: In retrospect it would’ve been easier to consider the unit of
time to be <span class="math inline">n</span> hours in the first place,
but I’m too lazy to go back and rewrite everything.</p><p>…</p><p>…</p><section id=footnotes class="footnotes footnotes-end-of-document" role=doc-endnotes><hr><ol><li id=fn1><p>Also known as reading the relevant Wikipedia article. In
this case that’s the <a href=https://en.wikipedia.org/wiki/Poisson_distribution#History><em>History</em>
section of the article on the Poisson distribution</a>.<a href=#fnref1 class=footnote-back role=doc-backlink>↩︎</a></p></li><li id=fn2><p><a href=https://royalsocietypublishing.org/doi/10.1098/rstl.1710.0018>The
original article in Latin</a> is available via <a href=https://royalsociety.org/journals/>The Royal Society
Publishing</a>.<a href=#fnref2 class=footnote-back role=doc-backlink>↩︎</a></p></li></ol></section><nav class=suggested><h2 class=suggested>More articles from this blog</h4><ul><li><h3 class="suggested title"><a href=/blog/gender-gap-in-adolescent-mental-health/>On Gender Gap in Adolescent Mental Health</a></h3><p>A recent study found that more gender-equal countries have larger
gender gaps in mental health. I look at the data that seems to have
yielded this counter-intuitive results and find it lacking.</p></li><li><h3 class="suggested title"><a href=/blog/ten-years/>Ten Years</a></h3><p>It’s been ten years since I started at Google. The work anniversary fell on 6th of December.
Ten years ago my wife and I made our way to Mountain View for my orientation; all excited for a brand new chapter in our lives. After spending a week in Mountain View / Palo Alto we both decided that California was not for us. But that’s beside the point.
I was elated. This was pretty much everything I dreamt of as a kid growing up in Sri Lanka.</p></li><li><h3 class="suggested title"><a href=/blog/on-wontfixing-bugs/>On WontFixing Bugs</a></h3><p><p>Large projects accumulate a large number of issue reports over time.
This is normal. Typically for a “successful” project the rate of new
issues being reported will exceed the rate of issues being fixed. Hence
the growth.</p><p>But what are they to do about this ever-growing pile of bugs?</p></p></li><li><h3 class="suggested title"><a href=/blog/things-you-can-do-with-nvim-and-vscode/>Things You Can Do With Neovim and Vscode That You Can't Do With Neovim Alone</a></h3><p>This is the third time I’ve tried in earnest to switch to VSCode from Vim (or Neovim in my case) for reasons not all of which are relevant to this post. But I love Vim style modal editing and I’ve grown accustomed to some features that aren’t present or not well emulated in VSCodeVim.
Enter VSCode Neovim. I was intrigued by their claim to integrate Neovim instead of trying to emulate Vim.</p></li><li><h3 class="suggested title"><a href=/blog/why-strong-opinions-weakly-held/>Why 'Strong Opinions Weakly Held'</a></h3><p>Origins of the phrase The title of this blog is Strong Opinions, Weakly Held. The same concept shows up elsewhere are Strong Opinions Loosely Held. An eponymous essay by Paul Saffo in [1] introduced the world to this concept.
In his essay – which isn’t very long if you would like to read the whole thing yourself – he lays out the concept as follows:
I have found that the fastest way to an effective forecast is often through a sequence of lousy forecasts.</p></li></ul></nav><h4>Comment</h4><script src=https://utteranc.es/client.js repo=asankah/blog-comments issue-term=title label=PublicComment theme=github-light crossorigin=anonymous async></script></div><div class=pagination><a href=/blog/ten-years/ class="left arrow">&#8592;</a>
<a href=/blog/on-wontfixing-bugs/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>Last modified on January 13, 2022</span></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-GSREL2EZ4Y"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-GSREL2EZ4Y',{anonymize_ip:!1})}</script></body></html>