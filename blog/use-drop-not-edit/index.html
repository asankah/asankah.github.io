<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Vim: Use Drop Not Edit, SBuffer Not Buffer &#183; Strong Opinions, Weekly Held</title>
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/fonts.min.css>
<link rel=stylesheet href=/css/formatting.min.css>
<link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<link href rel=alternate type=application/rss+xml title="Strong Opinions, Weekly Held">
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script><script src=/js/render-katex.js></script>
</head>
<body>
<nav class=nav>
<div class=nav-container>
<a href=/>
<h2 class=nav-title>Strong Opinions, Weekly Held</h2>
</a>
<ul>
<li>
<a href=/about/me>
<span>About Me</span>
</a>
</li>
<li>
<a href=/tags>
<span>Tags</span>
</a>
</li>
</ul>
</div>
</nav>
<main>
<div class=post>
<div class=post-info>
<span>Written by</span>
Asanka Herath
<br>
<span>on&nbsp;</span><time datetime="2020-07-07 12:02:20 -0400 EDT">July 7, 2020</time>
<br>
<a href=/tags/vim>#Vim</a>
<a href=/tags/commandline>#Commandline</a>
</div>
<h1 class=post-title>Vim: Use Drop Not Edit, SBuffer Not Buffer</h1>
<div class=post-line></div>
<div class="social share">
<a href="https://twitter.com/intent/tweet?text=Vim%3A+Use+Drop+Not+Edit%2C+SBuffer+Not+Buffer&url=https%3A%2F%2Fxn--izc.com%2Fblog%2Fuse-drop-not-edit%2F&via=asankah" aria-label="Share on Twitter" target=_blank rel=noopener>
<img src=/images/twitter.svg alt="Share on Twitter">
</a>
<a href="mailto:?body=Via+https%3A%2F%2Ftwitter.com%2Fasankah%0A%0AI%E2%80%99m+going+to+assume+you+are+a+Vim+user.%0ASay+you+have+a+several+windows+open+in+Vim+and+you+want+to+edit+another+file.+Using+%3Aedit+works+if+you+want+to+open+the+file+in+the+current+window+unconditionally.%0ABut+that%E2%80%99s+often+not+what+you+want.+If+you+have+the+same+file+open+in+another+window%2C+then+the+most+efficient+and+least+disruptive+thing+to+do+is+to+switch+to+that+window.%0A%0ARead+more+at+https%3A%2F%2Fxn--izc.com%2Fblog%2Fuse-drop-not-edit%2F%0A&subject=Vim%3A+Use+Drop+Not+Edit%2C+SBuffer+Not+Buffer+-+Strong+Opinions%2C+Weekly+Held" aria-label="Share via Email" target=_blank rel=noopener>
<img src=/images/mail.svg alt="Share via Email">
</a>
<a href=https://xn--izc.com/blog/use-drop-not-edit/ aria-label="Permanent link to post">
<img src=/images/link-2.svg alt="Permanent link to post">
</a>
</div>
<script language=javascript>const rewriteImageUrls=function(){var c=document.getElementsByTagName("img"),b,a;for(let d of c)b=new URL(d.src),a=b.pathname.split("/"),a.length>2&&a[a.length-2]=="media"&&(b.pathname="/"+a.slice(a.length-2).join("/"),d.src=b)};document.addEventListener("DOMContentLoaded",rewriteImageUrls)</script>
<p>I’m going to assume you are a Vim user.</p>
<p>Say you have a several windows open in Vim and you want to edit another file. Using <code>:edit</code> works if you want to open the file in the current window unconditionally.</p>
<p><em>But that’s often not what you want.</em> If you have the same file open in another window, then the most efficient and least disruptive thing to do is to switch to that window.</p>
<h2 id=drop>drop</h2>
<p>That’s where <code>:drop</code> comes in. In case you aren’t familiar with the <code>drop</code> command, have a look at the help page in your favorite editor (<code>:help drop</code>) or <a href=http://vimdoc.sourceforge.net/htmldoc/windows.html#:drop>here on the web</a>. But the gist of it is that for most people<a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a> <code>:drop {file}</code> will:</p>
<ul>
<li>Switch to the window in which <code>{file}</code> is already open.</li>
<li>Switch the buffer in the current window to <code>{file}</code> otherwise.</li>
</ul>
<p>The <code>:drop</code> command is intended to be used as the “open buffer” command for automated tooling like source browsers. For example, you can configure <code>coc-nvim</code> <a href=https://github.com/neoclide/coc.nvim>GitHub</a> to use <code>:drop</code> as the command used for opening a source file by setting <code>coc.preferences.jumpCommand</code> to <code>drop</code>. See <code>:help coc-configuration</code> for details on how to set this, but basically it’s as simple as opening up the configuration using <code>:CocConfig</code> and then adding a <code>"coc.preferences.jumpCommand": "drop",</code> mapping to the configuration JSON file.</p>
<h2 id=switchbuf-or-swb>switchbuf or swb</h2>
<p>Or perhaps configuring each plugin is too much work. Enter <code>switchbuf</code>. This is a global setting in Vim that controls how Vim switches between buffers.</p>
<p>Setting <code>set switchbuf=useopen</code> has the same effect when invoking <code>buffer</code>. Note that using <code>sbuffer</code>, <code>sbnext</code>, or <code>sbrewind</code> automatically behaves as if this is the case. I.e. they will use an existing window if one already has the buffer open.</p>
<p>Setting <code>set switchbuf=usetab</code> is similar to the effect of <code>useopen</code> except that it will look through windows in other tabs.</p>
<p>See <code>:help switchbuf</code> or <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#'switchbuf'">here on the web</a> for full details.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn1 role=doc-endnote><p>Assuming you have <code>set hidden</code> that is. See <code>:help drop</code> for more details on what happens when the current buffer cannot be unloaded.<a href=#fnref1 class=footnote-back role=doc-backlink>↩︎</a></p></li>
</ol>
</section>
<script src=https://utteranc.es/client.js repo=asankah/blog-comments issue-term=title label=PublicComment theme=github-light crossorigin=anonymous async></script>
</div>
<div class=pagination>
<a href=/blog/notes-on-fact-checking/ class="left arrow">&#8592;</a>
<a href=/blog/comcast-technican-problem/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a>
</div>
</main>
<footer>
<span>Last modified on July 8, 2020 </span>
</footer>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-169355711-2','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</body>
</html>