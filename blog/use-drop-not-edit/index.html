<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Vim: Use Drop Not Edit, SBuffer Not Buffer &#183; Strong Opinions, Weakly Held</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/customfonts.css><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link href rel=alternate type=application/rss+xml title="Strong Opinions, Weakly Held"><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><nav class=nav><div class=nav-container><a href=/><h2 class=nav-title>Strong Opinions, Weakly Held</h2></a><ul></ul></div></nav><main><div class=post><div class=post-info><span>Written by</span><br><span>on&nbsp;</span><time datetime="2020-07-07 12:02:20 -0400 EDT">July 7, 2020</time></div><h1 class=post-title>Vim: Use Drop Not Edit, SBuffer Not Buffer</h1><div class=post-line></div><p>I’m going to assume you are a Vim user.</p><p>Say you have a several windows open in Vim and you want to edit another file. Using <code>:edit</code> works if you want to open the file in the current window unconditionally.</p><p><em>But that’s often not what you want.</em> If you have the same file open in another window, then the most efficient and least disruptive thing to do is to switch to that window.</p><h2 id=drop>drop</h2><p>That’s where <code>:drop</code> comes in. In case you aren’t familiar with the <code>drop</code> command, have a look at the help page in your favorite editor (<code>:help drop</code>) or <a href=http://vimdoc.sourceforge.net/htmldoc/windows.html#:drop>here on the web</a>. But the gist of it is that for most people<a href=#fn1 class=footnote-ref id=fnref1><sup>1</sup></a> <code>:drop {file}</code> will:</p><ul><li>Switch to the window in which <code>{file}</code> is already open.</li><li>Switch the buffer in the current window to <code>{file}</code> otherwise.</li></ul><p>The <code>:drop</code> command is intended to be used as the “open buffer” command for automated tooling like source browsers. For example, you can configure <code>coc-nvim</code> <a href=https://github.com/neoclide/coc.nvim>GitHub</a> to use <code>:drop</code> as the command used for opening a source file by setting <code>coc.preferences.jumpCommand</code> to <code>drop</code>. See <code>:help coc-configuration</code> for details on how to set this, but basically it’s as simple as opening up the configuration using <code>:CocConfig</code> and then adding a <code>"coc.preferences.jumpCommand": "drop",</code> mapping to the configuration JSON file.</p><h2 id=switchbuf-or-swb>switchbuf or swb</h2><p>Or perhaps configuring each plugin is too much work. Enter <code>switchbuf</code>. This is a global setting in Vim that controls how Vim switches between buffers.</p><p>Setting <code>set switchbuf=useopen</code> has the same effect when invoking <code>buffer</code>. Note that using <code>sbuffer</code>, <code>sbnext</code>, or <code>sbrewind</code> automatically behaves as if this is the case. I.e. they will use an existing window if one already has the buffer open.</p><p>Setting <code>set switchbuf=usetab</code> is similar to the effect of <code>useopen</code> except that it will look through windows in other tabs.</p><p>See <code>:help switchbuf</code> or <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#'switchbuf'">here on the web</a> for full details.</p><section class=footnotes><hr><ol><li id=fn1><p>Assuming you have <code>set hidden</code> that is. See <code>:help drop</code> for more details on what happens when the current buffer cannot be unloaded.<a href=#fnref1 class=footnote-back>↩</a></p></li></ol></section></div><div class=pagination><a href=/blog/notes-on-fact-checking/ class="left arrow">&#8592;</a>
<a href=/blog/comcast-technican-problem/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>&copy; <time datetime="2020-07-14 15:01:44.432048378 -0400 EDT m=+0.144688099">2020</time> . Made with <a href=https://gohugo.io>Hugo</a> using the <a href=https://github.com/EmielH/tale-hugo/>Tale</a> theme.</span></footer></body></html>