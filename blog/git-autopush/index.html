<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Use Git hooks to automatically push after every commit &#183; Strong Opinions, Weekly Held</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/scss/fonts.min.css><link rel=stylesheet href=/css/formatting.min.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link href rel=alternate type=application/rss+xml title="Strong Opinions, Weekly Held"><link rel=stylesheet href=https://xn--izc.com/_katex/katex.min.3493557c40ba8df12deb6c1031a7cb353d9e23a05a58e3576e991211502cdfef.css integrity="sha256-NJNVfEC6jfEt62wQMafLNT2eI6BaWONXbpkSEVAs3+8="><script src=https://xn--izc.com/_katex/katex.min.093945cfb872f8fdf36e3730db70625111c0cb4e643520f70eabd1703ede483f.js integrity="sha256-CTlFz7hy+P3zbjcw23BiURHAy05kNSD3DqvRcD7eSD8="></script><script src=https://xn--izc.com/js/render-katex.min.js async></script></head><body><nav class=nav><div class=nav-container><a href=/><h2 class=nav-title>Strong Opinions, Weekly Held</h2></a><ul><li><a href=/about/me><span>About Me</span></a></li><li><a href=/tags><span>Tags</span></a></li></ul></div></nav><main><div class=post><h1 class=post-title>Use Git hooks to automatically push after every commit</h1><div class=post-info><span>Written by</span>
Asanka Herath
<span>on&nbsp;</span><time datetime="2022-07-05 16:15:23 -0400 EDT">July 5, 2022</time>
|
<a href=/tags/tools>#Tools</a></div><div class="social share"><a href="https://twitter.com/intent/tweet?text=Use+Git+hooks+to+automatically+push+after+every+commit&amp;url=https%3A%2F%2Fxn--izc.com%2Fblog%2Fgit-autopush%2F&amp;via=asankah" aria-label="Share on Twitter" target=_blank rel=noopener><img src=/images/twitter.svg alt="Share on Twitter"></a>
<a href="mailto:?body=Via+https%3A%2F%2Ftwitter.com%2Fasankah%0A%0ADuring+before+and+after+various+Git+operations%2C+Git+invokes+special%0Ahooks+that+can+be+used+execute+custom+scripts.+This+article+explains+how%0Ato+use+them+to+automatically+push+to+an+upstream+repository+every+time%0Ayou+make+a+commit+to+a+local+repo.%0A%0ARead+more+at+https%3A%2F%2Fxn--izc.com%2Fblog%2Fgit-autopush%2F%0A&amp;subject=Use+Git+hooks+to+automatically+push+after+every+commit+-+Strong+Opinions%2C+Weekly+Held" aria-label="Share via Email" target=_blank rel=noopener><img src=/images/mail.svg alt="Share via Email"></a>
<a href=https://xn--izc.com/blog/git-autopush/ aria-label="Permanent link to post"><img src=/images/link-2.svg alt="Permanent link to post"></a></div><p>A Git hook is a shell script that is invoked at specific points
during some Git operations. They are documented in <a href=https://www.git-scm.com/docs/githooks#_post_commit>the Git
book</a>.</p><p>The hook we are interested in is <code>post-commit</code> (<a href=https://www.git-scm.com/docs/githooks#_post_commit>documented
here</a>). It gets run after a new commit is made. This is exactly when
we want to try and update our remote.</p><p>Our hook will:</p><ul><li>Execute each time you commit something into your repository.</li><li>Avoid doing anything if the commit is made during a rebase or
merge.</li><li>Push to a remote named <code>origin</code> (or whichever one you
change the <code>UPSTREAM</code> shell variable to point).</li><li>Create or update a remote reference that matches the branch name
that’s currently checked out.</li></ul><p>Copy and paste the following script into a file named
<code>.git/hooks/post-commit</code> in your repository directory.</p><aside class=important><p>Afterwards make the script runnable via
<code>chmod +x .git/hooks/post-commit</code>.</p></aside><script type=application/javascript src=https://gist.github.com/asankah/a6263bbd6081bffd031ca066e5177df2.js></script><nav class=suggested><h2 class=suggested>More articles from this blog</h4><ul><li><h3 class="suggested title"><a href=/blog/fart-limit/>Fart Limit</a></h3><p>Can a fart be fatal? Let’s see what science and OSHA have to say.</p></li><li><h3 class="suggested title"><a href=/blog/syntax-highlighting/>On Highlighting Syntax vs. Semantics</a></h3><p>Takes a look at an alternate form of code highlighting based on core
semantics instead of syntactic role.</p></li><li><h3 class="suggested title"><a href=/blog/how-this-blog-works/>How This Blog Works</a></h3><p>How I put this site together and why.</p></li><li><h3 class="suggested title"><a href=/blog/ansible-cli-sugar/>Easier CLI for ad-hoc Ansible tasks and playbooks</a></h3><p>Encode the host and group names into the name of a wrapper script for
quick ad-hoc invocation of Ansible tasks and playbooks.</p></li><li><h3 class="suggested title"><a href=/blog/promise-fatigue/>Promise Fatigue</a></h3><p>Setting low but realistic expectations is better than setting high
but unrealistic ones.</p></li></ul></nav><h4>Comment</h4><script src=https://utteranc.es/client.js repo=asankah/blog-comments issue-term=title label=PublicComment theme=github-light crossorigin=anonymous async></script></div><div class=pagination><a href=/blog/darpa-heilmeier-catechism/ class="left arrow">&#8592;</a>
<a href=/blog/interesting-numbers/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>Last modified on July 24, 2022</span></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-GSREL2EZ4Y"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GSREL2EZ4Y",{anonymize_ip:!1})}</script></body></html>